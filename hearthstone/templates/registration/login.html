{% extends "hearthstone/base.html" %}

{% block content %}

<div class="row my-5">
  <div class="col-md-12">

    {% if form.errors %}
      <p style="text-align: center;margin-top: 30px;padding: 10px;background: indianred;">
        Le pseudo et le mot ne passe ne correspondent pas, veuillez réessayer
      </p>
    {% endif %}

    {% if next %}
      {% if not user.is_authenticated %}
      <p style="text-align: center;margin-top: 30px;padding: 10px;background: indianred;">
        Vous devez vous connecter vous accéder à cette page
      </p>
      {% endif %}
    {% endif %}

    <form method="post" action="{% url 'login' %}" class="form-horizontal form-element">
        {% csrf_token %}
        <div class="box-body">

          <div class="form-group row">
            <label for="inputEmail3" class="col-sm-2 control-label">Pseudo</label>
  
            <div class="col-sm-10">
              <input type="text" class="form-control" name="username" autofocus="" required="" id="id_username">
            </div>
          </div>

          <div class="form-group row">
            <label for="inputPassword3" class="col-sm-2 control-label">Mot de passe</label>
  
            <div class="col-sm-10">
              <input type="password" class="form-control"  placeholder="Mot de passe" name="password" required>
            </div>
          </div>
        </div>
        <div class="box-footer" style="background-color: transparent">
          <input type="hidden" name="next" value="{{ next }}" />
          <button type="submit" class="btn btn-info pull-right">Se connecter</button>
        </div>
        <small class="text-muted" style="padding:5px;">
          <a href="{% url 'password_reset' %}">Mot de passe oublié ?</a><br>
          <p style="padding: 5px;">Pas encore de compte ? <a class="ml-3" href="{% url 'register' %}">Inscrivez-vous</a><br></p>
        </small>

      </form>
      

  </div>
</div>

{% endblock content %}